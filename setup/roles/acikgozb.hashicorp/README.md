# acikgozb.hashicorp

This role is responsible from installing the tools that belong to Hashicorp.
Currently only Vagrant and Terraform are installed.

## Requirements

This role assumes that any Linux host that is running it will have `AMD64` architecture, and any Darwin host will have `ARM64` architecture.

Therefore, `ARM64` Linux hosts are currently not supported by this role due to simplicity.

## Role Variables

This role has 2 types of variables, one group is repsonsible from the versions and other one is responsible from the metadata of a specific tool.

- `terraform_version`: The version of Terraform that is installed to the host.
- `vagrant_version`: The version of Vagrant that is installed to the host.

The metadata is held in a variable called `hashicorp_tools`, and if this variable is overridden the changes won't have any effect. This role is designed to install both Vagrant and Terraform and nothing else, therefore this is by design.

Here is a structure of `hashicorp_tools`:

```yml
hashicorp_tools:
  Darwin: # the type of host OS.
    - name: # the name of the package that will be installed.
      url: # the url which contains the binary.
      type: # the type of binary (see below for detail).
      pkg: # (Optional) the .pkg file location of the tool, see below for details.
      lib: # (Optional) the default installation path of .pkg file, see below for details.
      bin: # (Optional) the default symlink source that is generated by .pkg file, see below for details.
      link: # (Optional) the default symlik path that is generated by .pkg file, see below for details.
```

Based on how Hashicorp organizes their binaries, there are two types of binaries: the ones that are installed via an image (`.dmg` files on Darwin), and the ones that are archived (`.zip` files).

Therefore, each tool contains a field called `type` and based on this type the installation tasks are decided. For the tools which have the type `archive`, the **optional** fields mentioned above won't have any effect.

If the tool type is `package`, then the optional fields become mandatory to successfully install the tool.

## Dependencies

None.

## Example Playbook

Here is a basic usage of this role:

```yml
- hosts: servers
  roles:
    - acikgozb.hashicorp
```

If you need to change how it works, see the Role Variables section above.

## License

BSD

## Author Information

An optional section for the role authors to include contact information, or a website (HTML is not allowed).
